<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>numpys 与pandas得基本使用</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="白俊杰">

    <!-- Le styles -->
    <link rel="stylesheet" href="/theme/css/bootstrap.dark.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 13pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-2 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 6pt;
     }
    </style>
    <link href="/theme/css/bootstrap-responsive.dark.css" rel="stylesheet">
        <link href="/theme/css/font-awesome.css" rel="stylesheet">

    <link href="/theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png">

    <link href="/" type="application/atom+xml" rel="alternate" title="斯人独憔悴得技术博客 ATOM Feed" />

  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">斯人独憔悴得技术博客 </a>
          <div class="nav-collapse">
            <ul class="nav">
                          <li class="divider-vertical"></li>
                  <li class="active">
                    <a href="/category/ji-zhu.html">
						<i class="icon-folder-open icon-large"></i>技术
					</a>
                  </li>

                          <ul class="nav pull-right">
                                <li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span9" id="content">
<section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to numpys 与pandas得基本使用">
                                        numpys 与pandas得基本使用
                                </a>
                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2018-09-14T21:03:00+02:00">
        <i class="icon-calendar"></i>周五 14 九月 2018
</abbr>
<span class="label">By</span>
<a href="/author/fu-lu-shui.html"><i class="icon-user"></i>浮绿水</a>
<span class="label">Category</span>
<a href="/category/ji-zhu.html"><i class="icon-folder-open"></i>技术</a>.


<span class="label">Tags</span>
	<a href="/tag/pelican.html"><i class="icon-tag"></i>pelican</a>
	<a href="/tag/publishing.html"><i class="icon-tag"></i>publishing</a>
</footer><!-- /.post-info -->                </div>
                <ul>
<li>
<h1>numpy ：</h1>
</li>
</ul>
<p>##### 提供一个在python中做科学计算的基础库，重在数值计算，主要用于多维数组  处理库</p>
<ul>
<li>
<h1>pandas：</h1>
</li>
</ul>
<p>##### 是一个强大的分析结构化数据的工具集  提供了高维数据结构和数据操作工具</p>
<p>##### 基于numpy而使用 提供了高性能矩阵的运算</p>
<ul>
<li>
<h3>numpy的使用</h3>
</li>
<li>
<p><em><em>jupyter lab  </em>打开服务命令<strong><em>
    </em><em>np.arange(100) </em>生成一组维数  也 称一维数据</strong></em></p>
<p><strong><em>在arange里  shape 的作用是计算差值</em></strong></p>
</li>
<li>
<h5>np.array([]) <em>写一组高维数据</em></h5>
</li>
</ul>
<p>##### <strong>data =np.array([[[1,2,3],[2,3,4],[2,3,4]],[[1,2,3],[1,2,3],[2,3,4]]])</strong></p>
<p>##### <strong>data=np.array([])</strong></p>
<p>###### <strong>data=np.shape</strong>   <em>结果为（2，3，3）</em></p>
<p>###### <em>2值指的是 有几组  大列表   第一个3指的是大列表里有几组列表   第二个3指的是 列表里数据的个数</em></p>
<p>##### <strong>data.ndim 查看高维数组的个数   大白话就是查看是几维数据</strong>  </p>
<p>##### liststu=[10,20,30,40,50,55]</p>
<p>##### liststu=np.array(liststu)</p>
<p>##### data.tolist()  <em>转化成列表的形式</em></p>
<p>##### data.reshape(1，2，3)  <em>改变维度    维度的乘积必须等于你数据的个数</em></p>
<h5>展现一组高维函数的方法：</h5>
<div class="highlight"><pre><span></span>    <span class="o">**</span>方式<span class="mi">1</span>:<span class="o">**</span>  <span class="nv">datas</span><span class="o">=</span><span class="nv">np</span>.<span class="nv">arange</span><span class="ss">(</span><span class="mi">15</span><span class="ss">)</span>.<span class="nv">reshape</span><span class="ss">(</span><span class="mi">3</span>,<span class="mi">5</span><span class="ss">)</span>   <span class="o">**</span>后面维度的乘积必须是前面的数值<span class="o">**</span>
     <span class="o">**</span>方式<span class="mi">2</span>：<span class="o">**</span> <span class="nv">data</span><span class="o">=</span><span class="nv">np</span>.<span class="k">random</span>.<span class="nv">randint</span><span class="ss">(</span><span class="mi">10</span>,<span class="mi">30</span>,<span class="nv">size</span><span class="o">=</span><span class="ss">(</span><span class="mi">4</span>,<span class="mi">3</span><span class="ss">))</span>    <span class="o">**</span>前俩个数值指的是范围内的数据<span class="o">**</span>  
        <span class="nv">size</span><span class="o">=</span>（） <span class="o">**</span>是形成的维度   前一个数指的<span class="nv">y</span>轴  后一个是<span class="nv">x</span>轴<span class="o">**</span>
</pre></div>


<h6>np.r_[data1,data2]   np.c_[data1,data2]       <strong>r_  按y轴合并(x轴必须相等)     c_按x轴合并（y轴必须相等）</strong></h6>
<ul>
<li>
<h3>方差（正态）计算：</h3>
</li>
<li>
<h5><em>正态分布  反映波动程度 （随机波动）反应与均值的偏离程度</em>*</h5>
</li>
<li>
<h5>np.linspace(8，12，9) <strong><em>形成等分数   （对前俩个数之内的数据 进行等分   最后一个维数是显示的列里的数据的个数）</em></strong></h5>
</li>
<li>
<h5>np.random.randn(10)  <strong><em>正态分布数据</em></strong></h5>
</li>
<li>
<h5>np.random.normal(loc=0,scale=1,size=(10,20))</h5>
<h5><em>把均值为零  方差(标准差)为1的标准正态分布数据显示出来</em></h5>
</li>
<li>
<h3>numpy常用统计函数</h3>
</li>
<li>
<h5>import numpy as np</h5>
</li>
<li>
<p><strong>data =np.array([[[1,2,3],[2,3,4],[2,3,4]]])</strong></p>
</li>
<li>
<h5>axis 指定求值方向   y轴（行相）或x轴（列向）如果不定义 统计的是整个数组的数据</h5>
<p><strong>print(np.sum</strong>(data,axis=1))<strong>
</strong>sum  求和     axis  定以求和的方向    当axis=1时  求列的和    为0时 求行的和<strong>
               </strong>为1时  [[ 5  8 11]]<strong>
    </strong>为0时  [[1 2 3]<strong>
                </strong>[2 3 4]<strong>
                </strong>[2 3 4]]****</p>
</li>
<li>
<h6>np.mean()   求平均值</h6>
</li>
<li>
<p><strong>np.max()   返回最大值</strong></p>
</li>
<li>
<p><strong>np.min()  返回最小值</strong></p>
</li>
<li>
<p><strong>np.std()  返回偏差</strong></p>
</li>
<li>
<p><strong>np.var()  返回方差</strong></p>
</li>
<li>
<p><strong>np.cumsum()  返回累加值</strong></p>
</li>
<li>
<p><strong>np.cumprod()   返回累乘积值</strong></p>
<hr>
</li>
<li>
<h1>模块二</h1>
</li>
</ul>
<p>### 导包：</p>
<p><strong>import pandas as pd</strong></p>
<ol>
<li>
<h6>pd.Series([1,2,3,4,5])</h6>
<p>##### Series存放一维度数据</p>
</li>
<li>
<p><strong><em>pd.DataFrame([[1,2],[3,4],[4,5]])</em></strong>   </p>
<p>##### DataFrame 存放二维度数据</p>
</li>
<li>
<p><strong>pd.DataFrame([[1,2],[3,4],[4,5]],columns=['A','B'])</strong>  </p>
<p>##### columns   给二维度数据起别名    （别名的个数必须和单个列表中数据的个数相符）</p>
</li>
<li>
<p><strong>data.info()</strong></p>
<p>##### <strong>  查看数据的占用量  单位（字节）</strong></p>
</li>
<li>
<p><strong>data.head()</strong>   </p>
<p>##### 打印出数据    （默认前五行  可以进行改变   print(data2.head(3)) ）</p>
</li>
<li>
<p><strong>data.tail(10)</strong></p>
<p>#### 打印出数据（默认后五行）</p>
<p>#####  </p>
</li>
<li>
<h3>读取和写入文件</h3>
</li>
<li>
<h5><em>data=pd.read_excal("kuaidaili.csv")</em>  将文件改变成csv形式</h5>
<h5><strong>data=pd.to_csv("kuaidaili.csv"，encoding='utf-8'）</strong>写入到文件中然后再通过</h5>
<h5>data=pd.read_csv("kuaidaili.csv",encoding='utf-8')  读取</h5>
</li>
<li>
<h5>data=pd.read_csv("kuaidaili.csv",encoding='ANSI')</h5>
<p><strong>data.to_csv('kuaidaili.csv',encoding='utf-8')</strong>  </p>
<h5>转化成utf-8的形式  （区别  能在软件中打开csv格式的文本，并转译编码修改完后  data的encoding格式要进行修改）</h5>
<h4>to_csv  写入文本</h4>
</li>
<li>
<h5>data.loc[]</h5>
<h5>按定义得行标签来取值  也能按指定标签名来取</h5>
</li>
<li>
<h5>data.iloc[]</h5>
<h5>通过正常索引来取值  或者切片来取</h5>
</li>
<li>
<h3>比较</h3>
</li>
</ol>
<hr>
<p><code>css
    data[（data['9000']!=9000）&amp;(data['2019/5/13 14:31']&gt;'2019/5/10 0.00')</code></p>
<div class="highlight"><pre><span></span><span class="p">]</span>

<span class="o">**</span>
<span class="o">**&amp;=</span><span class="k">and</span><span class="o">=</span><span class="err">与</span><span class="o">**</span>
</pre></div>


<ul>
<li>
<h3>缺失值填充</h3>
</li>
<li>
<h5><strong>data['salary'].fillna(data['salary'].mean())   *用均值填充</strong>*</h5>
</li>
<li>
<h5>data['salary'].fillna(100)  <em>把里面的空值填充成100</em></h5>
</li>
<li>
<h3>删除</h3>
</li>
<li>
<h5>data.drop([1,2,3,4])   <em>删除多行</em></h5>
</li>
<li>
<h5>data.dropna(inplace=True) <em>删除带有Nan的整条数据</em></h5>
</li>
<li>
<h5>inplace    <em>当该值为True时  修改原数据</em></h5>
</li>
<li>
<h3>排序</h3>
</li>
<li>
<h5>data.sort_index(ascending=True) <em>索引降序排列</em></h5>
</li>
<li>
<h5>data.sort_values(by='salary',ascending=False)  <em>按照值升降序排列</em></h5>
</li>
<li>
<h3>numpy与pandas结合：</h3>
</li>
<li>
<p>```css</p>
<ul>
<li>
<p>import numpy as pd 
  import pandas as np
      data=np.random.randint(0,100,size=(10,5))</p>
<p>data1=pd.DataFrame(data)   #对二维数据进行存放  随机存储一组数据  数据必须在0-100的范围以内</p>
<p>print(data1.info())    #查询数据的占用量  单位（字节）</p>
<p>print(data1.head())   #打印数据  默认5行
    ```</p>
</li>
</ul>
</li>
</ul>
                </div><!-- /.entry-content -->
        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-external-link"></i>blogroll</h4></li>
    <li><a href="http://getpelican.com/"><i class="icon-external-link"></i>Pelican</a></li>
    <li><a href="http://python.org/"><i class="icon-external-link"></i>Python.org</a></li>
    <li><a href="http://jinja.pocoo.org/"><i class="icon-external-link"></i>Jinja2</a></li>
    <li><a href="#"><i class="icon-external-link"></i>You can modify those links in your config file</a></li>
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>
<li><a href="/" rel="alternate"><i class="icon-bookmark icon-large"></i>atom feed</a></li>
    <li><a href="#"><i class="icon-You can add links in your config file-sign icon-large"></i>You can add links in your config file</a></li>
    <li><a href="#"><i class="icon-Another social link-sign icon-large"></i>Another social link</a></li>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>
<li>
<a href="/category/ji-zhu.html">
    <i class="icon-folder-open icon-large"></i>技术
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->

        <p>The theme is based on <a href="http://twitter.github.com/bootstrap/">Bootstrap from Twitter <i class="icon-external-link"></i></a>,
                   and <a href="http://fortawesome.github.com/Font-Awesome/">Font-Awesome <i class="icon-external-link"></i></a>, thanks!</p>
      </footer>

    </div><!--/.fluid-container-->



    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/theme/js/jquery-1.7.2.min.js"></script>
    <script src="/theme/js/bootstrap.min.js"></script>
  </body>
</html>